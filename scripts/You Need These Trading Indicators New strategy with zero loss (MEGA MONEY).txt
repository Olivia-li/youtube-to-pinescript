//@version=4
strategy("Trader XO Micro Trend Scanner Strategy", overlay=true)

// Trader XO Micro Trend Scanner
fast_ma = input(5, title="Fast MA")
slow_ma = input(20, title="Slow MA")
trend = ema(close, fast_ma) - ema(close, slow_ma)
buy_signal = crossover(trend, 0)
sell_signal = crossunder(trend, 0)

// Moving Average Convergence Divergence (MACD)
fast_length = input(12, title="Fast Length")
slow_length = input(26, title="Slow Length")
signal_length = input(9, title="Signal Smoothing")
macd = macd(close, fast_length, slow_length, signal_length)
histogram = macd - signal

// Moving Average Exponential (EMA)
ema_length = input(200, title="EMA Length")
ema = ema(close, ema_length)

// Buy and Sell Conditions
buy_condition = buy_signal and histogram > 0 and close > ema
sell_condition = sell_signal and histogram < 0 and close < ema

// Plotting
plot(trend, title="Trader XO Micro Trend Scanner", color=color.blue)
plot(ema, title="EMA", color=color.green)
plot(histogram, title="MACD Histogram", color=color.orange)

// Strategy Execution
if (buy_condition)
    strategy.entry("Buy", strategy.long)
if (sell_condition)
    strategy.entry("Sell", strategy.short)